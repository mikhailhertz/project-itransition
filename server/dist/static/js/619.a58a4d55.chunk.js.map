{"version":3,"file":"static/js/619.a58a4d55.chunk.js","mappings":"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","sources":["api/get/getCollection.js","api/post/deleteCollection.js","api/post/deleteItem.js","api/get/getComments.js","api/post/postComment.js","components/view/CommentSection.jsx","api/get/getLikes.js","api/get/getLikeStatus.js","api/post/toggleLike.js","components/view/Likes.jsx","../node_modules/react-bootstrap/esm/Image.js","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js","pages/collection/Collection.jsx"],"sourcesContent":["export default async function fetchCollection(collectionId) {\n    const collection = await fetch('/api/get-collection?id=' + collectionId)\n        .catch(error => console.log(error))\n    return await collection.json()\n}\n","import firebase from 'utils/firebase'\r\n\r\nexport default async function deleteCollection(collectionId) {\r\n    await fetch('/api/delete-collection', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Token': await firebase.auth().currentUser.getIdToken()\r\n        },\r\n        body: JSON.stringify({ id: collectionId })\r\n    })\r\n        .catch(error => console.log(error))\r\n}","import firebase from 'utils/firebase'\r\n\r\nexport default async function deleteItem(itemId) {\r\n    await fetch('/api/delete-item', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Token': await firebase.auth().currentUser.getIdToken()\r\n        },\r\n        body: JSON.stringify({ id: itemId })\r\n    })\r\n        .catch(error => console.log(error))\r\n}","export default async function getComments(collectionId) {\n    const comments = await fetch('/api/get-comments?id=' + collectionId)\n        .catch(error => console.log(error))\n    return await comments.json()\n}\n","import firebase from 'utils/firebase'\n\nexport default async function postComment(uid, id, text) {\n    fetch('/api/post-comment', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Token': await firebase.auth().currentUser.getIdToken()\n        },\n        body: JSON.stringify({ uid: uid, id: id, text: text })\n    })\n        .catch(error => console.log(error))\n}","import fetchComments from 'api/get/getComments'\r\nimport postComment from 'api/post/postComment'\r\nimport { AuthenticationContext } from 'providers/AuthenticationProvider'\r\nimport { SocketContext } from 'providers/SocketProvider'\r\nimport { Fragment, useContext, useEffect, useState } from 'react'\r\nimport { Form } from 'react-bootstrap'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nexport default function Collection() {\r\n    const [comments, setComments] = useState([])\r\n    const { token } = useContext(AuthenticationContext)\r\n    const { socket } = useContext(SocketContext)\r\n    const { collectionId } = useParams()\r\n    const { t } = useTranslation()\r\n    const handlePostComment = event => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        postComment(token.uid, collectionId, event.target.elements.comment.value)\r\n        event.target.elements.comment.value = ''\r\n    }\r\n    useEffect(() => {\r\n        var mounted = true\r\n        fetchComments(collectionId).then(result => setComments(result))\r\n        socket.on('new comment', comment => {\r\n            fetchComments(collectionId).then(result => mounted && setComments(result))\r\n        })\r\n        return () => { mounted = false }\r\n    }, [collectionId, socket, token])\r\n    return (\r\n        <div className='comment-section me-auto ms-auto'>\r\n            <h5 className='mb-3'>\r\n                {t('uiComments')}\r\n            </h5>\r\n            {\r\n                comments.map((comment, i) =>\r\n                    <Fragment key={'CommentSectionFragment' + i}>\r\n                        <div key='CommentSectionFlex' className='d-flex align-items-center'>\r\n                            <h6 className='mb-0 me-2'>\r\n                                {comment.user.name + ':'}\r\n                            </h6>\r\n                            <div>\r\n                                {comment.comment}\r\n                            </div>\r\n                        </div>\r\n                    </Fragment>\r\n                )\r\n            }\r\n            {\r\n                token &&\r\n                <Form onSubmit={handlePostComment}>\r\n                    <Form.Control required autoComplete='off' className='my-3' name='comment' placeholder={t('uiComment')} />\r\n                    <Button variant='primary' type='submit'>\r\n                        {t('uiSend')}\r\n                    </Button>\r\n                </Form>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","export default async function getLikes(collectionId) {\n    const likes = await fetch('/api/get-likes?id=' + collectionId)\n        .catch(error => console.log(error))\n    return await likes.json()\n}\n","export default async function getLikeStatus(userId, collectionId) {\n    const collections = await fetch('/api/get-like-status?uid=' + userId + '&id=' + collectionId)\n        .catch(error => console.log(error))\n    return await collections.json()\n}\n","import firebase from 'utils/firebase'\n\nexport default async function toggleLike(collectionId) {\n    fetch('/api/toggle-like', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Token': await firebase.auth().currentUser.getIdToken()\n        },\n        body: JSON.stringify({ id: collectionId })\n    })\n        .catch(error => console.log(error))\n}","import { faHeart } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport getLikes from 'api/get/getLikes'\r\nimport getLikeStatus from 'api/get/getLikeStatus'\r\nimport toggleLike from 'api/post/toggleLike'\r\nimport { AuthenticationContext } from 'providers/AuthenticationProvider'\r\nimport { SocketContext } from 'providers/SocketProvider'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function Likes({ collectionId }) {\r\n    const [state, setState] = useState({\r\n        likes: 0,\r\n        liked: false\r\n    })\r\n    const { token } = useContext(AuthenticationContext)\r\n    const { socket } = useContext(SocketContext)\r\n    const { t } = useTranslation()\r\n    const handleToggleLike = event => {\r\n        event.preventDefault()\r\n        event.stopPropagation()\r\n        toggleLike(collectionId)\r\n    }\r\n    useEffect(() => {\r\n        var mounted = true\r\n        getLikes(collectionId).then(async result => {\r\n            setState({\r\n                likes: result.value,\r\n                liked: token ? await getLikeStatus(token.uid, collectionId) : false\r\n            })\r\n        })\r\n        socket.on('toggle like', () => {\r\n            getLikes(collectionId).then(async result => {\r\n                var liked = token ? await getLikeStatus(token.uid, collectionId) : false\r\n                if (mounted) {\r\n                    setState({\r\n                        likes: result.value,\r\n                        liked: liked\r\n                    })\r\n                }\r\n            })\r\n        })\r\n        return () => { mounted = false }\r\n    }, [collectionId, token, socket])\r\n    return (\r\n        <div className='d-flex align-items-center mb-3'>\r\n            {\r\n                token &&\r\n                <Button className='bg-transparent border-0 me-1' variant={state.liked ? 'danger' : 'secondary'} onClick={handleToggleLike}>\r\n                    <FontAwesomeIcon icon={faHeart} color={state.liked ? 'red' : 'gray'} />\r\n                </Button>\r\n            }\r\n            <div>\r\n                {state.likes + t('uiLikes', { count: state.likes })}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const propTypes = {\n  /**\n   * @default 'img'\n   */\n  bsPrefix: PropTypes.string,\n\n  /**\n   * Sets image as fluid image.\n   */\n  fluid: PropTypes.bool,\n\n  /**\n   * Sets image shape as rounded.\n   */\n  rounded: PropTypes.bool,\n\n  /**\n   * Sets image shape as circle.\n   */\n  roundedCircle: PropTypes.bool,\n\n  /**\n   * Sets image shape as thumbnail.\n   */\n  thumbnail: PropTypes.bool\n};\nconst defaultProps = {\n  fluid: false,\n  rounded: false,\n  roundedCircle: false,\n  thumbnail: false\n};\nconst Image = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  fluid,\n  rounded,\n  roundedCircle,\n  thumbnail,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'img');\n  return /*#__PURE__*/_jsx(\"img\", {\n    // eslint-disable-line jsx-a11y/alt-text\n    ref: ref,\n    ...props,\n    className: classNames(className, fluid && `${bsPrefix}-fluid`, rounded && `rounded`, roundedCircle && `rounded-circle`, thumbnail && `${bsPrefix}-thumbnail`)\n  });\n});\nImage.displayName = 'Image';\nImage.defaultProps = defaultProps;\nexport default Image;","import classNames from 'classnames';\nimport * as React from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    navItemProps.onClick(event);\n  });\n\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  } // eslint-disable-next-line no-nested-ternary\n\n\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    numbered,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`, numbered && `${bsPrefix}-numbered`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});","import fetchCollection from 'api/get/getCollection'\nimport deleteCollection from 'api/post/deleteCollection'\nimport deleteItem from 'api/post/deleteItem'\nimport CommentSection from 'components/view/CommentSection'\nimport Likes from 'components/view/Likes'\nimport { pathByTag } from 'paths'\nimport { SocketContext } from 'providers/SocketProvider'\nimport { Fragment, useContext, useEffect, useState } from 'react'\nimport { Form } from 'react-bootstrap'\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container'\nimport Image from 'react-bootstrap/Image'\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport { useTranslation } from 'react-i18next'\nimport ReactMarkdown from 'react-markdown'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport remarkGfm from 'remark-gfm'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { AuthenticationContext } from 'providers/AuthenticationProvider'\n\nexport default function Collection() {\n    const [state, setState] = useState({\n        loading: true,\n        collection: null\n    })\n    const { token, admin } = useContext(AuthenticationContext)\n    const { socket } = useContext(SocketContext)\n    const { collectionId } = useParams()\n    const navigate = useNavigate()\n    const { t } = useTranslation()\n    const handleTagClick = event => {\n        navigate(pathByTag, { state: event.target.value })\n    }\n    const handleDeleteCollection = async event => {\n        await deleteCollection(collectionId)\n        navigate(-1)\n    }\n    const handleDeleteItem = async event => {\n        await deleteItem(event.target.value)\n        fetchCollection(collectionId).then(result => setState({\n            loading: false,\n            collection: result\n        }))\n    }\n    useEffect(() => {\n        fetchCollection(collectionId).then(result => setState({\n            loading: false,\n            collection: result\n        }))\n        socket.emit('collection', collectionId)\n        return () => {\n            socket.emit('left collection', collectionId)\n        }\n    }, [collectionId, socket])\n    if (state.loading) {\n        return <></>\n    } else {\n        return (\n            <Container fluid>\n                <div className='d-flex align-items-center mb-3'>\n                    <h1 className='mb-0 me-3'>\n                        {state.collection.title}\n                    </h1>\n                    {\n                        (state.collection.user === token.uid || admin) &&\n                        <Button onClick={handleDeleteCollection} className='bg-transparent border-0'>\n                            <FontAwesomeIcon icon={faTrash} color='red' />\n                        </Button>\n                    }\n                </div>\n                <h3 className='pb-0'>\n                    {t('uiDescription')}\n                </h3>\n                <div className='border rounded p-3 mb-3'>\n                    <ReactMarkdown components={{ p: 'div' }} children={state.collection.description} remarkPlugins={[remarkGfm]} />\n                </div>\n                <div className='h3'>{t('uiTags')}</div>\n                <div className='border rounded p-3 mb-3'>\n                    {\n                        state.collection.tags.map(tag =>\n                            <Button key={tag} value={tag} onClick={handleTagClick} className='me-2'>\n                                {tag}\n                            </Button>)\n                    }\n                </div>\n                {\n                    state.collection.items.map((item, i) =>\n                        <Fragment key={'CollectionFragment' + i}>\n                            <div className='d-flex align-items-center mt-4'>\n                                <h5 key={'CollectionItemTitle' + i} className='mb-0 me-3'>\n                                    {item.title}\n                                </h5>\n                                {\n                                    (state.collection.user === token.uid || admin) &&\n                                    <Button onClick={handleDeleteItem} className='bg-transparent border-0' value={item._id}>\n                                        <FontAwesomeIcon icon={faTrash} color='red' />\n                                    </Button>\n                                }\n                            </div>\n                            <ListGroup>\n                                {\n                                    item.properties.map((property, j) => {\n                                        var element\n                                        if (property.type === 'image') {\n                                            element = <Image key={property.name + i + j} className='item-image' src={property.value} />\n                                        } else if (property.type === 'color') {\n                                            element = <Form.Control key={property.name + i + j} type='color' disabled={true} defaultValue={property.value} />\n                                        }\n                                        else {\n                                            element = <div key={property.name + i + j}>{property.value}</div>\n                                        }\n                                        return (\n                                            <ListGroup.Item key={'CollectionItem' + i + j}>\n                                                <div key={'CollectionFlex' + i + j} className='d-flex align-items-center'>\n                                                    <h6 key={'CollectionItemTitle' + i + j} className='mb-0 me-5'>\n                                                        {property.title}\n                                                    </h6>\n                                                    {element}\n                                                </div>\n                                            </ListGroup.Item>\n                                        )\n                                    })\n                                }\n                            </ListGroup>\n                        </Fragment>\n                    )\n                }\n                <Likes collectionId={collectionId} />\n                <CommentSection collectionId={collectionId} />\n            </Container >\n        )\n    }\n}\n"],"names":["fetchCollection","collectionId","fetch","catch","error","console","log","collection","json","deleteCollection","firebase","currentUser","getIdToken","JSON","stringify","id","method","headers","body","deleteItem","itemId","getComments","comments","uid","text","Collection","useState","setComments","token","useContext","AuthenticationContext","socket","SocketContext","useParams","t","useTranslation","useEffect","mounted","fetchComments","then","result","on","comment","className","map","i","Fragment","user","name","Form","onSubmit","event","preventDefault","stopPropagation","postComment","target","elements","value","required","autoComplete","placeholder","Button","variant","type","getLikes","likes","getLikeStatus","userId","collections","Likes","liked","state","setState","onClick","toggleLike","icon","faHeart","color","count","Image","PropTypes","React","ref","bsPrefix","fluid","rounded","roundedCircle","thumbnail","props","useBootstrapPrefix","_jsx","classNames","displayName","defaultProps","ListGroupItem","active","disabled","eventKey","action","as","useNavItem","key","makeEventKey","href","navItemProps","meta","handleClick","useEventCallback","undefined","tabIndex","Component","isActive","ListGroup","horizontalVariant","useUncontrolled","activeKey","initialBsPrefix","horizontal","numbered","controlledProps","BaseNav","Object","assign","Item","loading","admin","navigate","useNavigate","handleTagClick","pathByTag","handleDeleteCollection","handleDeleteItem","emit","Container","title","faTrash","components","p","children","description","remarkPlugins","remarkGfm","tags","tag","items","item","_id","properties","property","j","element","src","defaultValue"],"sourceRoot":""}